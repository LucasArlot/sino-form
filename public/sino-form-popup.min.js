!function(){"use strict";const n="sino-form-overlay",e="sino-form-container",o="sino-form-iframe";let t=!1,r={},i=null,s=null,a=null;const d=`\n    #${n} {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      background: rgba(0, 0, 0, 0.75);\n      z-index: 999999;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      opacity: 0;\n      transition: opacity 0.3s ease;\n      backdrop-filter: blur(4px);\n    }\n    \n    #${e} {\n      background: white;\n      border-radius: 12px;\n      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n      max-width: 95vw;\n      max-height: 95vh;\n      width: 800px;\n      height: 600px;\n      position: relative;\n      overflow: hidden;\n      transform: scale(0.9);\n      transition: transform 0.3s ease;\n    }\n    \n    #${o} {\n      width: 100%;\n      height: 100%;\n      border: none;\n      border-radius: 12px;\n    }\n    \n    .sino-form-close {\n      position: absolute;\n      top: 16px;\n      right: 16px;\n      background: rgba(255, 255, 255, 0.9);\n      border: none;\n      border-radius: 50%;\n      width: 40px;\n      height: 40px;\n      cursor: pointer;\n      z-index: 1000000;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 18px;\n      color: #6b7280;\n      transition: all 0.2s ease;\n      backdrop-filter: blur(10px);\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n    }\n    \n    .sino-form-close:hover {\n      background: rgba(255, 255, 255, 1);\n      color: #374151;\n      transform: scale(1.1);\n    }\n    \n    /* Responsive */\n    @media (max-width: 768px) {\n      #${e} {\n        max-width: 100vw;\n        max-height: 100vh;\n        width: 100vw;\n        height: 100vh;\n        border-radius: 0;\n      }\n      \n      #${o} {\n        border-radius: 0;\n      }\n      \n      .sino-form-close {\n        top: 12px;\n        right: 12px;\n        width: 36px;\n        height: 36px;\n        font-size: 16px;\n      }\n    }\n    \n    /* Animation d'ouverture */\n    #${n}.sino-form-open {\n      opacity: 1;\n    }\n    \n    #${n}.sino-form-open #${e} {\n      transform: scale(1);\n    }\n  `;function l(l={}){if(t)return;r={onClose:null,onSubmit:null,onError:null,autoClose:!0,...l},function(){if(document.getElementById("sino-form-styles"))return;const n=document.createElement("style");n.id="sino-form-styles",n.textContent=d,document.head.appendChild(n)}();const c=function(){if(i)return i;i=document.createElement("div"),i.id=n,s=document.createElement("div"),s.id=e,a=document.createElement("iframe"),a.id=o,a.src="https://lucasarlot.github.io/sino-form/embed.html?popup=true&hideNav=true",a.allow="fullscreen",a.allowFullscreen=!0;const t=document.createElement("button");return t.className="sino-form-close",t.innerHTML="Ã—",t.setAttribute("aria-label","Fermer"),t.title="Fermer (ESC)",s.appendChild(a),s.appendChild(t),i.appendChild(s),i}();document.body.appendChild(c),document.body.style.overflow="hidden",function(){if(!i)return;i.addEventListener("click",function(n){n.target===i&&u()});const n=i.querySelector(".sino-form-close");n&&n.addEventListener("click",u);const e=function(n){"Escape"===n.key&&(u(),document.removeEventListener("keydown",e))};document.addEventListener("keydown",e);const o=function(n){if("https://lucasarlot.github.io"===n.origin&&n.data&&"object"==typeof n.data)switch(n.data.type){case"form_submitted":r.onSubmit&&"function"==typeof r.onSubmit&&r.onSubmit(n.data.data),r.autoClose&&setTimeout(u,1e3);break;case"form_error":r.onError&&"function"==typeof r.onError&&r.onError(n.data.data)}};window.addEventListener("message",o);const t=u;u=function(){window.removeEventListener("message",o),t()}}(),requestAnimationFrame(()=>{c.classList.add("sino-form-open")}),t=!0,r.onOpen&&"function"==typeof r.onOpen&&r.onOpen()}function u(){t&&i&&(i.classList.remove("sino-form-open"),setTimeout(()=>{i&&i.parentNode&&i.parentNode.removeChild(i),document.body.style.overflow="",i=null,s=null,a=null,t=!1,r.onClose&&"function"==typeof r.onClose&&r.onClose()},300))}window.SinoFormPopup={open:function(n){try{l(n)}catch(e){console.error("Erreur lors de l'ouverture de la popup:",e),n&&n.onError&&n.onError(e)}},close:function(){u()},isOpen:function(){return t},getOptions:function(){return{...r}}},"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",function(){}),"undefined"!=typeof module&&module.exports&&(module.exports=window.SinoFormPopup)}();